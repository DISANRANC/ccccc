<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <title>游客服务</title>
    <meta name="keywords" content="淮安科技馆，海洋摇篮，探索发现，创造文明，和谐发展，儿童未来">
    <meta name="description"
    content="淮安科技馆位于淮安市文化艺术中心，于2007年3月16日正式对外开放，建筑面积21000平方米，常设展厅面积12000平方米，设有&ldquo;海洋摇篮&rdquo;、&ldquo;探索发现&rdquo;、&ldquo;创造文明&rdquo;、&ldquo;和谐发展&rdquo;、&ldquo;儿童未来&rdquo;5大主题展馆，以及1个健康主题乐园、1个光学展区、1个&ldquo;海峡两岸海洋科技展示馆&rdquo;、3个特效影院，馆藏设施近400套件。">
    <link rel="shortcut icon" type="image/x-icon" href="/images/logo.ico">
    <link rel="icon" type="image/x-icon" href="/image/logo.ico">
    <link rel="stylesheet" type="text/css" href="/css/animate.css">
    <link rel="stylesheet" type="text/css" href="/css/nprogress.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/swiper.min.css">
    <link rel="stylesheet" type="text/css" href="/css/common.css">
    <link rel="stylesheet" type="text/css" href="/css/zuo-style.css">
    <link rel="stylesheet" type="text/css" href="/css/playStrategy.css">  
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="/js/vue.min.js"></script>
    <script src="/js/ele-index.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/qs.min.js"></script>
    <script type="text/javascript" src="/js/jquery-3.0.0.min.js"></script>
    <script type="text/javascript" src="/js/layer/layer.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/swiper.min.js"></script>
    <script type="text/javascript" src="/js/nprogress.js"></script>
    <script type="text/javascript" src="/js/wow.min.js"></script>
    <script type="text/javascript" src="/js/common.js"></script> 
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
    <script type="text/javascript">
        $(function () {
            new WOW().init();
            NProgress.start();
            NProgress.done();
        })
    </script>
</head>

<body ontouchstart>
    <header>
        <div class="container">
            <div class="header-top">
                <div class="weui-cell__bd title">
                    <a href="/index.html" title="" class="logo">LOGO XXX科技馆</a>
                </div>
                <div class="nav-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <div class="banner2">
        <img src="/images/new/tourist/touristbg.png" alt="游客服务" class="bgimg">
        <div class="banner-title">
            <div class="container2 exhibitionHall">
                <div class="cn wow fadeup animated" data-wow-delay=".2s" style="visibility: visible;-webkit-animation-delay: .2s; -moz-animation-delay: .2s; animation-delay: .2s;">
                    <!-- 参观指南 -->
                    <img src="/images/new/exhibitionHall.png" alt="">
                </div>
            </div>
        </div>
    </div>

    <div class="subnav">
        <div class="container2">
            <a href="/html/tourist/tourist.html" title="" class="item">在线购票</a>
            <a href="/html/tourist/trafficRoutes.html" title="" class="item">交通线路</a>
            <a href="/html/tourist/serviceFacilities.html" title="" class="item">服务设施</a>
            <a href="/html/tourist/playStrategy.html" title="" class="item on">游玩攻略</a>
            <a href="/html/tourist/commonProblem.html" title="" class="item">常见问题</a>
            <a href="/html/tourist/questionnaire.html" title="问卷调查" class="item">问卷调查</a>
        </div>
    </div>

    <div class="method1">
        <div class="container2">
            <div class="news1-top">
                <div class="title">
                    <span>新闻公告</span>
                </div>
                <div class="swiper-container swiper-container-horizontal">
                    <div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(-1737.5px, 0px, 0px);">           
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/16" class="item">
                                <span class="time">2020.02.14</span>
                                <span class="txt weui-cell_primary">万众一心积极打响防疫攻坚战，…</span>
                            </a>
                        </div>           
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/21" class="item">
                                <span class="time">2020.04.13</span>
                                <span class="txt weui-cell_primary">科技馆有序恢复开放，迎来首批…</span>
                            </a>
                        </div>              
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/22" class="item">
                                <span class="time">2020.04.13</span>
                                <span class="txt weui-cell_primary">千里共学堂，科技馆开拓别样趣…</span>
                            </a>
                        </div>              
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/23" class="item">
                                <span class="time">2020.04.13</span>
                                <span class="txt weui-cell_primary">厦门科技馆《猛犸时代》主题展览火…</span>
                            </a>
                        </div>            
                        <div class="swiper-slide swiper-slide-prev" style="width: 347.5px;">
                            <a href="/g/newsintro/24" class="item">
                                <span class="time">2020.04.13</span>
                                <span class="txt weui-cell_primary">致敬最美逆行者，厦门科技馆邀约全…</span>
                            </a>
                        </div>            
                        <div class="swiper-slide swiper-slide-active" style="width: 347.5px;">
                            <a href="/g/newsintro/25" class="item">
                                <span class="time">2020.04.13</span>
                                <span class="txt weui-cell_primary">厦门科技馆恢复开放多举措保障旅游…</span>
                            </a>
                        </div>              
                        <div class="swiper-slide swiper-slide-next" style="width: 347.5px;">
                            <a href="/g/newsintro/27" class="item">
                                <span class="time">2020.05.19</span>
                                <span class="txt weui-cell_primary">厦门科技馆首次“探海直播”上线直…</span>
                            </a>
                        </div>          
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/28" class="item">
                                <span class="time">2020.05.19</span>
                                <span class="txt weui-cell_primary">各项举措并行，厦门科技馆晋江SM“探…</span>
                            </a>
                        </div>            
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/29" class="item">
                                <span class="time">2020.05.19</span>
                                <span class="txt weui-cell_primary">千里共学堂，厦门科技馆开拓别样趣…</span>
                            </a>
                        </div>             
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/32" class="item">
                                <span class="time">2020.06.05</span>
                                <span class="txt weui-cell_primary">“益童成长·童创未来”——困境儿童…</span>
                            </a>
                        </div>           
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/33" class="item">
                                <span class="time">2020.08.11</span>
                                <span class="txt weui-cell_primary">“童心童梦，助力成长”六·一公益活…</span>
                            </a>
                        </div>           
                        <div class="swiper-slide" style="width: 347.5px;">
                            <a href="/g/newsintro/34" class="item">
                                <span class="time">2020.08.11</span>
                                <span class="txt weui-cell_primary">厦门科技馆带领外来务工子女走进&amp;…</span>
                            </a>
                        </div>            
                    </div>
                    <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
                </div>
                <a href="/g/news" title="" class="more">
                    <img src="/images/dian.png" alt="">
                    <img src="/images/dian1.png" alt="">
                </a>
            </div>
            <div id="app">
                <div class="method-top wow fadeup animated" style="visibility: visible;">
                    <div class="sort" style="flex: 1;">
                        <div class="sort-item" v-for="(item,index) in list" :key="index" @click="handleList(index)" :class="{on:index==current}" id="date">
                            <img :src="item.imgone" alt="" class="before">
                            <img :src="item.imgtwo" alt="" class="after">
                            <span @click="createTime">按日期排序</span>
                        </div>
                    </div>
                    <div class="search">
                        <input type="text" name="kw" id="kw" value="" placeholder="关键字搜索" class="weui-cell_primary" v-model="searchData">
                        <button type="submit" id="btn01" @click="search"><img src="/images/new/playStrategy/放大镜.png" alt=""></button>
                    </div>
                </div>
                <a class="item1 wow fadeup animated" v-for="(item , index) in arrayData" :key="index" href="/g/methodinfo/15" title="科学教育界的迪士尼——【科技馆】" style="visibility: visible;">
                    <div class="imgbox">
                        <img src="/images/new/playStrategy/main.png" alt="科学教育界的迪士尼——【科技馆】">
                        <!-- <img :src="item.coverUrl" alt="科学教育界的迪士尼——【科技馆】"> -->
                    </div>
                    <div class="content weui-cell__bd weui-cell_primary">
                        <div class="h1">
                            {{item.title}}
                        </div>
                        <p>
                            <span style="color: rgb(68, 68, 68); font-family: Arial, " lucida="" microsoft="" hiragino="" sans="" gb="" pingfang="" text-align:="" font-size:="">{{item.contentRemark}}</span>
                        </p>
                        <p><br></p>
                    </div>
                    <div class="view-box-one">
                        <div class="txt">
                            <span>{{item.createTime}}</span>
                        </div>
                    </div>
                    <div class="view-box">
                        <img src="/images/new/playStrategy/眼睛.png" alt="">
                        <div class="txt">
                            <span>{{item.scanCount}}</span>人已浏览
                        </div>
                    </div>
                </a>
                <div class="tTable container body-content">
                    <div class="form-group">
                        <div class="form-group">
                            <div class="pager" id="pager">
                                <span class="form-inline">
                                    <select class="form-control" v-model="pagesize" v-on:change="showPage(pageCurrent,$event,true)" number>
                                        <option value="1">每页1个</option>
                                        <option value="2">每页2个</option>
                                        <option value="3">每页3个</option>
                                        <option value="4">每页4个</option>
                                    </select>
                                </span>
                                <span v-for="item in pageCount+1">
                                    <span v-if="item==1" class="btn btn-default" v-on:click="showPage(1,$event)" :class="{'disabled':fDisabled}">
                                        首页
                                    </span>
                                    <span v-if="item==1" class="btn btn-default" v-on:click="showPage(pageCurrent-1,$event)" :class="{'disabled':fDisabled}">
                                        上一页
                                    </span>
                                    <span v-if="item==1" class="btn btn-default" v-on:click="showPage(item,$event)">
                                        {{item}}
                                    </span>
                                    <span v-if="item==1&&item<showPagesStart-1" class="btn btn-default disabled">
                                        ...
                                    </span>
                                    <span v-if="item>1&&item<=pageCount-1&&item>=showPagesStart&&item<=showPageEnd&&item<=pageCount" class="btn btn-default" v-on:click="showPage(item,$event)">
                                        {{item}}
                                    </span>
                                    <span v-if="item==pageCount&&item>showPageEnd+1" class="btn btn-default disabled">
                                        ...
                                    </span>
                                    <span v-if="item==pageCount" class="btn btn-default" v-on:click="showPage(item,$event)"  >
                                        {{item}}
                                    </span>
                                    <span v-if="item==pageCount" class="btn btn-default" v-on:click="showPage(pageCurrent+1,$event)" :class="{'disabled':lDisabled}">
                                        下一页
                                    </span>
                                    <span v-if="item==pageCount" class="btn btn-default" v-on:click="showPage(pageCount,$event)" :class="{'disabled':lDisabled}">
                                        尾页
                                    </span>
                                </span>
                                <span>第 {{pageCurrent}} 页 / 共 {{pageCount}} 页 </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="left">
            咨询热线：0592-5148555
        </div>
        <div class="navs">
            <a href="/g" title="首页">首页</a>
            <a href="/g/about" title="参观指南">参观指南</a>
            <a href="/g/news" title="新闻中心">新闻中心</a>
            <a href="/g/buy" title="游客服务">游客服务</a>
            <a href="/g/cases" title="展馆活动">展馆活动</a>
            <a href="/g/login" title="登录/注册">登录/注册</a>
        </div>
        <div class="right">
            COPYRIGHT厦门科技馆管理有限公司 ALL RIGHTS RESERVED闽ICP备09055120号网安备案号35020302034028
            <a href="http://beian.miit.gov.cn" target="_blank"></a>
        </div>
        <script>
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?317b4274e7a05ddafcfecd4d48ac044e";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    </footer>

    <script>
        var app = new Vue({
            el:"#app",
            data(){
                return{
                    //为第一页或者最后一页时，首页，尾页不能点击
                    fDisabled:false,
                    lDisabled:false,
                    //总项目数
                    totalCount: '',
                    //分页数
                    pageCount: '',
                    //当前页面
                    pageCurrent: 2,
                    //分页大小
                    pagesize: 1,
                    //显示分页按钮数
                    showPages: 4,
                    //开始显示的分页按钮
                    showPagesStart: 1,
                    //结束显示的分页按钮
                    showPageEnd: 100,
                    //分页数据
                    arrayData: '',
                    //.active 效果
                    current:0,
                    //.active 数据
                    list:[
                        {title:"按日期排序",imgone:"/images/new/playStrategy/日历 (1).png",imgtwo:"/images/new/playStrategy/日历.png"},
                        {title:"按日期排序",imgone:"/images/new/playStrategy/热度 (5).png",imgtwo:"/images/new/playStrategy/热度.png"},
                    ],
                    //搜索数据
                    searchData:''
                }
            },
            methods:{
                showPage(pageIndex, $event, forceRefresh){
                    if (pageIndex > 0) {
                        if (pageIndex > this.pageCount) {
                            pageIndex = this.pageCount;
                        }
                        //判断数据是否需要更新
                        var currentPageCount = Math.ceil(this.totalCount / this.pagesize);
                        if (currentPageCount != this.pageCount) {
                            pageIndex = 1;
                            this.pageCount = currentPageCount;
                        }
                        else if (this.pageCurrent == pageIndex && currentPageCount == this.pageCount && typeof (forceRefresh) == "undefined") {
                            console.log("not refresh");
                            return;
                        }
        
                        //处理分页点中样式
                        var buttons = $("#pager").find("span");
                        for (var i = 0; i < buttons.length; i++) {
                            if (buttons.eq(i).html() != pageIndex) {
                                buttons.eq(i).removeClass("active");
                            }
                            else {
                                buttons.eq(i).addClass("active");
                            }
                        }

                        //如果当前页首页或者尾页，则上一页首页就不能点击，下一页尾页就不能点击
                        if(this.pageCurrent === 1){
                            this.fDisabled=true;
                        }else if(this.pageCurrent===this.pageCount){
                            this.lDisabled=true;
                        }else{
                            this.fDisabled=false;
                            this.lDisabled=false;
                        }
                    
                        //计算分页按钮数据
                        if (this.pageCount > this.showPages) {
                            if (pageIndex <= (this.showPages - 1) / 2) {
                                this.showPagesStart = 1;
                                this.showPageEnd = this.showPages - 1;
                                console.log("showPage1")
                            }
                            else if (pageIndex >= this.pageCount - (this.showPages - 3) / 2) {
                                this.showPagesStart = this.pageCount - this.showPages + 2;
                                this.showPageEnd = this.pageCount;
                                console.log("showPage2")
                            }
                            else {
                                console.log("showPage3")
                                this.showPagesStart = pageIndex - (this.showPages - 3) / 2;
                                this.showPageEnd = pageIndex + (this.showPages - 3) / 2;
                            }
                        }
                        console.log("showPagesStart:" + this.showPagesStart + ",showPageEnd:" + this.showPageEnd + ",pageIndex:" + pageIndex);
                    }
                },
                //数据获取、排序、搜索
                getData(){
                    this.$http.get('http://192.168.100.92/official/officialsiteplaystrategy/list',{
                        'params':{
                            page:this.pageCurrent,
                            limit:this.pagesize,
                            orderBy:'create_time'
                        }
                    })
                    .then(res => {
                        console.log(res);
                        if (res.data.code === 0){
                            this.arrayData = res.data.page.list;
                            this.totalCount = res.data.page.totalCount
                            this.pageSize = res.data.page.pageSize
                            this.pageCount = res.data.page.totalPage
                            this.pageCurrent = res.data.page.currPage
                        }
                    })
                },
                createTime(){
                    this.$http.get('http://192.168.100.92/official/officialsiteplaystrategy/list',{
                        'params':{
                            orderBy:'create_time'
                        }
                    })
                    .then(res => {
                        console.log(res);
                        if (res.data.code === 0){
                            this.arrayData = res.data.page.list;
                            // this.totalCount = res.data.list.length;
                        }
                    })
                },
                scanCount(){
                    this.$http.get('http://192.168.100.92/official/officialsiteplaystrategy/list',{
                        'params':{
                            orderBy:'scan_count'
                        }
                    })
                    .then(res => {
                        console.log(res);
                        if(res.data.code === 0){
                            this.arrayData = res.data.page.list
                        }
                    })
                },
                search(){
                    this.$http.get('http://192.168.100.92/official/officialsiteplaystrategy/list',{
                        'params':{
                            orderBy:'create_time',
                            title:this.searchData
                        }
                    })
                    .then(res => {
                        console.log(res);
                        if(res.data.code === 0){
                            if(res.data.page.list.length !== 0){
                                this.arrayData = res.data.page.list
                            }else{
                                alert("暂无该搜索项目！")
                            }
                        }
                    })
                },

                //active
                handleList (index) {
                    this.current = index;
                },
            },
            created() {
                new WOW().init();
                NProgress.start();
                NProgress.done();
                this.getData()
            },
            mounted(){
                this.showPage(this.pageCurrent, null, true);
            },
            computed:{}
        })
    </script>
</body>

</html>